$(function(){function a(){for(var a=c.register_infor,b=0;b<a.length;b++)d.push($(a[b]).val());a.siblings("div").html("")}function b(){i(),h(),g(),f(),e(),c.register_top.click(function(a){a.stopPropagation()}),c.sign_top.click(function(a){a.stopPropagation()}),c.body.click(function(){j()})}var c={register_sign:$("#home-button"),register_top:$(".register-top"),sign_top:$(".sign-top"),body:$("body"),register_infor:$(".register-infor"),register_title:$(".register-title"),register:$("#register"),sign:$("#sign"),sign_usename:$("#infor-5"),sign_pass:$("#infor-6"),register_usename:$("#infor-0"),register_pass:$("#infor-1"),register_repass:$("#infor-2"),register_company:$("#infor-3"),register_email:$("#infor-4"),home_title:$(".home-title"),home_content:$(".home-content"),home_pic:$(".home-pic"),home_register_title:$(".home-register-title"),home_register_line:$(".home-register-line"),home_sign_title:$(".home-sign-title"),home_sign_line:$(".home-sign-line"),servicetype:$("#servicetype")},d=[],e=function(){c.register.click(function(){var a=c.register_company,b=c.register_email,e=c.register_repass,f=c.register_pass,g=c.register_usename,h=c.servicetype;a.val()==d[3]&&a.next("div").html("请填写所在部门名称"),b.val()==d[4]&&b.next("div").html("请填写您的百度邮箱"),e.val()==d[2]&&e.next("div").html("请确认密码"),f.val()==d[1]&&f.next("div").html("请输入密码"),g.val()==d[0]&&g.next("div").html("请输入用户名"),f.val()!=d[1]&&e.val()!=d[2]&&g.val()!=d[0]&&b.val()!=d[4]&&a.val()!=d[3]&&(f.val()==e.val()?$.ajax({type:"post",cache:!1,dataType:"Json",url:"/silkroad/register",data:{name:g.val(),pwd:f.val(),department:a.val(),email:b.val(),serviceType:h.val()},success:function(){alert("注册成功,请注意查收邮件")}}):(f.val("两次密码输入不一致，请重新输入"),e.val("两次密码输入不一致，请重新输入"),f.css("color","red"),e.css("color","red")))})},f=function(){c.sign.click(function(){var a=c.sign_pass,b=c.sign_usename;b.val()==d[5]&&b.next("div").html("请填写邮箱"),a.val()==d[6]&&a.next("div").html("请输入密码"),b.val()!=d[5]&&a.val()!=d[6]&&$.ajax({type:"post",cache:!1,dataType:"Json",url:"/silkroad/login",data:{name:b.val(),pwd:a.val()},success:function(){window.location="/silkroad/index.html"}})})},g=function(){c.register_title.find("div").click(function(){j()})},h=function(){c.register_infor.focus(function(){("所属部门"==$(this).val()||"您的百度邮箱"==$(this).val()||"用户名"==$(this).val()||"密码"==$(this).val()||"确认密码"==$(this).val()||"两次密码输入不一致，请重新输入"==$(this).val())&&($(this).css("color","#919191"),$(this).val(""),$(this).next("div").html(""))});var a=0;c.register_infor.blur(function(){""==$(this).val()&&(a=Number($(this).attr("id").split("-")[1]),$(this).val(d[a]))})},i=function(){c.register_sign.find("div").click(function(d){var e=c.home_register_title,f=c.home_sign_title,g=c.home_register_line,h=c.home_sign_line,i=c.register_top,j=c.sign_top;i.hide(),j.hide(),"registration"==$(this).attr("class")?(a("0px","575px","260px",300),b("200px","407px",e,g,i)):"experience"==$(this).attr("class")&&(a("500px","375px","460px",300),b("-50px","365px",f,h,j)),d.stopPropagation()});var a=function(a,b,d,e){var f=c.home_title,g=c.home_content,h=c.register_sign;f.animate({left:a,opacity:"0"},e,function(){f.hide()}),g.animate({left:b,opacity:"0"},e,function(){g.hide()}),h.animate({left:d,opacity:"0"},e,function(){h.hide()})},b=function(a,b,d,e,f){var g=c.home_pic;g.animate({left:a,opacity:"0"},300,function(){g.hide(),d.fadeIn(200),e.animate({width:b},300),f.show()})}},j=function(){var a=c.home_title,b=c.home_content,d=c.register_sign,e=c.home_register_title,f=c.home_pic,g=c.home_register_line,h=c.register_top,i=c.sign_top,j=c.home_sign_title,k=c.home_sign_line;a.show(),b.show(),d.show(),f.show(),h.hide(),i.hide(),e.fadeOut(200),g.animate({width:"0px"},300),j.fadeOut(200),k.animate({width:"0px"},300,function(){a.animate({left:"300px",opacity:"1"},300),b.animate({left:"475px",opacity:"1"},300),d.animate({left:"360px",opacity:"1"},300),f.animate({left:"100px",opacity:"1"},200)})};a(),b()});